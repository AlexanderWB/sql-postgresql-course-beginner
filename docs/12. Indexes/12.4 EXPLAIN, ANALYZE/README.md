# EXPLAIN, ANALYZE

## EXPLAIN

- Если есть проблема с производительностью - надо понять откуда "растут ноги"
- `EXPLAIN query позволяет посмотреть на план выполнения запроса`
  - Запрос не будет выполняться, планировщик просто покажет план выполнения
  - Покажет накладные расходы, которые возникают (догадки планировщика, сколько будет исполняться запрос)
- `EXPLAIN ANALYZE query`
  - Прогоняет запрос, показывает план и реальность.
    
## ANALYZE

- Собирает статистику по данным таблицы
- Планировщик смотрит на статистику при построении плана
- `ANALYZE [table_name [(column1, column2...)]]`
- Запускать как минимум один раз в день
- `autovacuum` (если включен) в том числе запускает `ANALYZE`
