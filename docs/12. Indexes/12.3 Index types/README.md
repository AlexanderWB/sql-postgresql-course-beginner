# Типы индексов

- B-tree (сбалансированное дерево)
- Хеш-индекс
- GiST (обобщённое дерево поиска)
- GIN (обобщённый обратный)
- SP-GiST (GiST с двоичным разбиением пространства)
- BRIN (блочно-диапазонный)

## Balanced tree

- Создается по умолчанию (`CREATE INDEX index_name ON table_name (column_name)`)
- Поддерживает операции: `<`, `>`, `<=`, `>=`, `=`
- Поддерживает `LIKE 'abc%'` (но не `'%abc'`)
- Индексирует `NULL`
- Сложность поиска O(logN)

## Hash

- `CREATE INDEX index_name ON table_name USING HASH (column_name)`
- Поддерживает только операцию `=`
- На практике в большинстве случаев если и побеждает `B-tree`, то побеждает не очень сильно.
  Поэтому в большинстве случаев используем `B-tree`
- Не отражается в журнале предзаписи (WAL)
  - Это недостаток, придется делать ре-индекс
- Сложность поиска O(1)
- Не рекомендуется в применении, но лучшая скорость в сравнении `=`

## Специализированные индексы (применяются намного реже)

- GiST (обобщенное дерево поиска)
  - Применяется для индексации геометрических типов данных, и текстовых для организации полнотекстового поиска
- GIN (обобщённый обратный)
  - Применяется для индексации массива или набора значений, можно использовать для организации полнотекстового поиска
- SP-GiST (GiST с двоичным разбиеним пространства)
  - Используется для наборов данных, которые подразумевают естественную упорядоченность, но не является сбалансированным
  - К примеру номер телефона (часть номера упорядоченна, часть рандомна)
  - Лучше применять специалистам, у которых есть глубокие познания в математике
- BRIN (блочно-диапазонный)
  - Полезен потенциально на огромных наборах данных, которые подразумевают естественную упорядоченность
  - Например: почтовые индексы, котировки
